{% layout none %}
{% if cart %}
{
"original_total_price": {{ cart.original_total_price }},
"total_discount": {{ cart.total_discount }},
"total_price": {{ cart.total_price }},
"total_weight": {{ cart.total_weight }},
"item_count": {{ cart.item_count }},
"items":[
    {% for item in cart.items %}
{
"id":{{ item.id }},
"variant_id":{{ item.variant_id }},
"product_id":{{ item.product_id }},
"url":"{{ item.url }}",
"key":"{{ item.key }}",
"image":"{{ item | img_url: 'medium' }}",
"quantity":{{ item.quantity }},
"price":{{ item.price }},
"properties":{ {% for property in item.properties %}
  "{{ property[0] }}": "{{ property[1] }}"{% unless forloop.last %},{% endunless %}
{% endfor %} },
"original_price":{{ item.original_price }},
"original_line_price":{{ item.original_line_price }},
"discounted_price":{{ item.discounted_price }},
"line_price":{{ item.line_price }},
"gift_card":"{{ item.gift_card }}",
"grams":{{ item.grams }},
"requires_shipping":"{{ item.requires_shipping }}",
"product_title":"{{ item.product_title }}",
"variant_title":"{{ item.variant_title }}",
"variant_options":"{{ item.variant_options }}",
"title":"{{ item.title }}",
"collection_ids":[
{%- comment %}<locksmith:24f3>{% endcomment -%}
  {%- assign locksmith_f1d6_forloop__size = 0 %}{% for c in item.product.collections %}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: c, subject_parent: item.product, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_f1d6_forloop__size = locksmith_f1d6_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_f1d6_forloop__index = nil -%}
{%- comment %}</locksmith:24f3>{% endcomment -%}
{% for c in item.product.collections %}
{%- comment %}<locksmith:9da4>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: c, subject_parent: item.product, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_f1d6_forloop__index == nil %}{% assign locksmith_f1d6_forloop__index = 1 %}{% assign locksmith_f1d6_forloop__index0 = 0 %}{% else %}{% assign locksmith_f1d6_forloop__index = locksmith_f1d6_forloop__index | plus: 1 %}{% assign locksmith_f1d6_forloop__index0 = locksmith_f1d6_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_f1d6_forloop__index == 1 %}{% assign locksmith_f1d6_forloop__first = true %}{% else %}{% assign locksmith_f1d6_forloop__first = false %}{% endif %}{% if locksmith_f1d6_forloop__index == locksmith_f1d6_forloop__size %}{% assign locksmith_f1d6_forloop__last = true %}{% else %}{% assign locksmith_f1d6_forloop__last = false %}{% endif %}{% assign locksmith_f1d6_forloop__rindex = locksmith_f1d6_forloop__size | minus: locksmith_f1d6_forloop__index | minus: 1 %}{% assign locksmith_f1d6_forloop__rindex0 = locksmith_f1d6_forloop__size | minus: locksmith_f1d6_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}
{%- comment %}</locksmith:9da4>{% endcomment -%}
{{ c.id }}
  {% if locksmith_f1d6_forloop__last != true %}
,
  {% endif %}
{% endfor %}
]}
{% if forloop.last != true %}
,
{% endif %}
    {% endfor %}
]}
{% endif %}